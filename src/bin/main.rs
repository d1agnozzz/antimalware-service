use antimalware_service::service::{self, ProcessError};
use std::env;

fn main() {
    let args = env::args().nth(1);

    match service::process_service(args) {
        Err(ProcessError::WrongArguments) => {
            println!("No existing command was specified!");
            println!("You can use the following commands: \n\tinstall \n\tuninstall");
        }
        Err(ProcessError::ServiceError { source }) => {
            println!("Service failed with error: \n{:?}", source)
        }
        Ok(()) => ()
    }
}